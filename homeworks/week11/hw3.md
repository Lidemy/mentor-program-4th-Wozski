## a. 請說明雜湊跟加密的差別在哪裡，為什麼密碼要雜湊過後才存入資料庫
雜湊 (Hash)
特性：
1. 無論原文的內容長短，透過雜湊演算法運算完後的輸出都會是相同長度，輸出的長度並不受原文長度影響。
2. 不同的雜湊的演算法輸出的雜湊值（雜湊演算法輸出被稱為雜湊值）有可能相同。
3. 無法用雜湊值的長度來判斷使用何種雜湊演算法。
4. 即使兩個輸入只差一個字，經過雜湊演算法演算過後輸出的值也會差距非常大，可以明顯區別。
5. 相同輸入得出的結果並不一定相同，有差異的輸入得出來的結果相同機率非常非常低。
加密：
在密碼學中，加密（英語：Encryption）是將明文資訊改變為難以讀取的密文內容，使之不可讀的過程。只有擁有解密方法的物件，經由解密過程，才能將密文還原為正常可讀的內容。
特性：
1. 只需要金鑰就可還原加密內容
2. 可以提高安全度
區別：
1. 加密可逆，雜湊不可逆
2. 加密只要有金鑰就可還原，雜湊則不能
3. 雜湊不是加密。

## b. `include`、`require`、`include_once`、`require_once` 的差別
include - 可以把兩個區域塊組合在一起。
require - 和 include 一樣差不多，就是引入 PHP 檔案，但是和 include 差別在於，如果發生錯誤 require 會停止，但是 include 不會。
include_once - 和 include 一樣功能，但是如果內容重複，就不會再次引入相同內容，並且使用 include 運行時發生錯誤，並不會停止運行程式，只會提出警告。
require_once - 和 include_once 相同，只會出現一次，並不會有重複內容。
## c. 請說明 SQL Injection 的攻擊原理以及防範方法
也稱SQL隱碼或SQL注碼，是發生於應用程式與資料庫層的安全漏洞。
是在輸入時夾帶 SQL 的指令碼，使得原本指令更改成輸入者想要的指令，而進一步達到破壞或是盜竊其他使用者的個人資料。
防範方法：
1. 在設計應用程式時，完全使用參數化查詢（Parameterized Query）來設計資料存取功能。
2. 在組合 SQL 字串時，先針對所傳入的參數加入其他字元（將單引號字元前加上跳脫字元）。
3. 如果使用 PHP 開發網頁程式的話，需加入跳脫字元之功能（自動將所有的網頁傳入參數，將單引號字元前加上跳脫字元）。
4. 使用 php 開發，可寫入 html 特殊函式，可正確阻擋 XSS 攻擊。
5. 其他，使用其他更安全的方式連接 SQL 資料庫。例如已修正過 SQL 注入問題的資料庫連接元件，例如 ASP.NET 的 SqlDataSource 物件或是 LINQ to SQL。
6. 使用 SQL 防注入系統。
7. 增強 WAF 的防禦力
分辨方法：攻擊 database。


##  d. 請說明 XSS 的攻擊原理以及防範方法
XSS 跨網站指令碼(Cross-site scripting，通常簡稱為：XSS)，是一種網站應用程式的安全漏洞攻擊，是代碼注入的一種。它允許惡意使用者將程式碼注入到網頁上，其他使用者在觀看網頁時就會受到影響。
XSS 攻擊通常指的是通過利用網頁開發時留下的漏洞，通過巧妙的方法注入惡意指令代碼到網頁，使用戶載入並執行攻擊者惡意製造的網頁程式。這些惡意網頁程式通常是 JavaScript，但實際上也可以包括 Java，VBScript，ActiveX，Flash 或者甚至是普通的 HTML。攻擊成功後，攻擊者可能得到更高的權限（如執行一些操作）、私密網頁內容、對談和 cookie 等各種內容。
XSS 漏洞可以追溯到1990年代。大量的網站曾遭受XSS漏洞攻擊或被發現此類漏洞，如 Twitter，Facebook，MySpace，Orkut, 新浪微博和百度貼吧 。研究表明，最近幾年XSS已經超過緩衝區溢位成為最流行的攻擊方式，有 68% 的網站可能遭受此類攻擊。根據開放網頁應用安全計劃（Open Web Application Security Project）公布的 2010年統計資料，在Web安全威脅前 10 位中，XSS 排名第 2，僅次於代碼注入（Injection）。
防範方法：
1. 過濾特殊字元
2. 使用HTTP header指定類型
分辨方法：攻擊網站。 

## e. 請說明 CSRF 的攻擊原理以及防範方法
跨站請求偽造(英語：Cross-site request forgery)，也被稱為 one-click attack 或者 session riding 通常縮寫為 CSRF 或者 XSRF， 是一種挾制用戶在當前已登錄的Web應用程式上執行非本意的操作的攻擊方法。跟跨網站指令碼（XSS）相比，**XSS 利用的是用戶對指定網站的信任，CSRF 利用的是網站對用戶網頁瀏覽器的信任。**
跨站請求攻擊，簡單地說，是攻擊者通過一些技術手段欺騙用戶的瀏覽器去存取一個自己曾經認證過的網站並執行一些操作（如發郵件，發訊息，甚至財產操作如轉帳和購買商品）。由於瀏覽器曾經認證過，所以被存取的網站會認為是真正的用戶操作而去執行。這利用了web中用戶身分驗證的一個漏洞：簡單的身分驗證只能保證請求發自某個用戶的瀏覽器，卻不能保證請求本身是用戶自願發出的。
防範方法：
1. 權杖同步模式
2. 檢查Referer欄位
3. 添加校驗token
分辨方法：XSS 利用的是用戶對指定網站的信任，CSRF 利用的是網站對用戶網頁瀏覽器的信任。
## 參考資料：
1. [加密和雜湊有什麼不一樣？](https://blog.m157q.tw/posts/2017/12/25/differences-between-encryption-and-hashing/)
2. [加密-WIKI](https://zh.wikipedia.org/wiki/%E5%8A%A0%E5%AF%86)
3. [SQL注入-WIkI](https://zh.wikipedia.org/wiki/SQL%E6%B3%A8%E5%85%A5)
4. [跨網站指令碼-WIKI](https://zh.wikipedia.org/wiki/%E8%B7%A8%E7%B6%B2%E7%AB%99%E6%8C%87%E4%BB%A4%E7%A2%BC)
5. [跨站請求偽造-WIKI](https://zh.wikipedia.org/wiki/%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0)
6. [PHP include 檔案之使用方式](https://www.wibibi.com/info.php?tid=158)
7. [PHP include_once](https://www.wibibi.com/info.php?tid=244)
8. [PHP require](https://www.wibibi.com/info.php?tid=243)
9. [PHP require_once](https://www.wibibi.com/info.php?tid=245)
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
## P1 你知道什麼是雜湊（Hash function）
雜湊 (Hash)
特性：
1. 無論原文的內容長短，透過雜湊演算法運算完後的輸出都會是相同長度，輸出的長度並不受原文長度影響。
2. 不同的雜湊的演算法輸出的雜湊值（雜湊演算法輸出被稱為雜湊值）有可能相同。
3. 無法用雜湊值的長度來判斷使用何種雜湊演算法。
4. 即使兩個輸入只差一個字，經過雜湊演算法演算過後輸出的值也會差距非常大，可以明顯區別。
5. 相同輸入得出的結果並不一定相同，有差異的輸入得出來的結果相同機率非常非常低。
## P1 你知道什麼是加密（Encryption）
加密：
在密碼學中，加密（英語：Encryption）是將明文資訊改變為難以讀取的密文內容，使之不可讀的過程。只有擁有解密方法的物件，經由解密過程，才能將密文還原為正常可讀的內容。
特性：
1. 只需要金鑰就可還原加密內容
2. 可以提高安全度
## P1 你知道雜湊與加密的差別
1. 加密可逆，雜湊不可逆
2. 加密只要有金鑰就可還原，雜湊則不能
3. 雜湊不是加密。
P1 你知道什麼是 SQL Injection 以及如何防範
也稱 SQL 隱碼或 SQL 注碼，是發生於應用程式與資料庫層的安全漏洞。
是在輸入時夾帶 SQL 的指令碼，使得原本指令更改成輸入者想要的指令，而進一步達到破壞或是盜竊其他使用者的個人資料。
防範方法：
1. 在設計應用程式時，完全使用參數化查詢（Parameterized Query）來設計資料存取功能。
2. 在組合 SQL 字串時，先針對所傳入的參數加入其他字元（將單引號字元前加上跳脫字元）。
3. 如果使用 PHP 開發網頁程式的話，需加入跳脫字元之功能（自動將所有的網頁傳入參數，將單引號字元前加上跳脫字元）。
4. 使用 php 開發，可寫入 html 特殊函式，可正確阻擋 XSS 攻擊。
5. 其他，使用其他更安全的方式連接 SQL 資料庫。例如已修正過 SQL 注入問題的資料庫連接元件，例如 ASP.NET 的 SqlDataSource 物件或是 LINQ to SQL。
6. 使用 SQL 防注入系統。
7. 增強 WAF 的防禦力
分辨方法：攻擊 database。
## P1 你知道什麼是 XSS 以及如何防範
XSS 跨網站指令碼(Cross-site scripting，通常簡稱為：XSS)，是一種網站應用程式的安全漏洞攻擊，是代碼注入的一種。它允許惡意使用者將程式碼注入到網頁上，其他使用者在觀看網頁時就會受到影響。
XSS 攻擊通常指的是通過利用網頁開發時留下的漏洞，通過巧妙的方法注入惡意指令代碼到網頁，使用戶載入並執行攻擊者惡意製造的網頁程式。這些惡意網頁程式通常是 JavaScript，但實際上也可以包括 Java，VBScript，ActiveX，Flash 或者甚至是普通的 HTML。攻擊成功後，攻擊者可能得到更高的權限（如執行一些操作）、私密網頁內容、對談和 cookie 等各種內容。
XSS 漏洞可以追溯到1990年代。大量的網站曾遭受XSS漏洞攻擊或被發現此類漏洞，如 Twitter，Facebook，MySpace，Orkut, 新浪微博和百度貼吧 。研究表明，最近幾年XSS已經超過緩衝區溢位成為最流行的攻擊方式，有 68% 的網站可能遭受此類攻擊。根據開放網頁應用安全計劃（Open Web Application Security Project）公布的 2010年統計資料，在Web安全威脅前 10 位中，XSS 排名第 2，僅次於代碼注入（Injection）。
防範方法：
1. 過濾特殊字元
2. 使用HTTP header指定類型
分辨方法：攻擊網站。 
## P1 你知道為什麼儘管前端做了驗證，後端還是要再做一次驗證
如果前端的 cookie 被盜用，或是用戶端非自願的發出 request 都有被盜取資料的風險，所以如果能使用雙重驗證的方法，可以阻擋帶有惡意發出 request 的有心人士。
## P2 你知道什麼是 CSRF 以及如何防範
跨站請求偽造(英語：Cross-site request forgery)，也被稱為 one-click attack 或者 session riding 通常縮寫為 CSRF 或者 XSRF， 是一種挾制用戶在當前已登錄的Web應用程式上執行非本意的操作的攻擊方法。跟跨網站指令碼（XSS）相比，**XSS 利用的是用戶對指定網站的信任，CSRF 利用的是網站對用戶網頁瀏覽器的信任。**
跨站請求攻擊，簡單地說，是攻擊者通過一些技術手段欺騙用戶的瀏覽器去存取一個自己曾經認證過的網站並執行一些操作（如發郵件，發訊息，甚至財產操作如轉帳和購買商品）。由於瀏覽器曾經認證過，所以被存取的網站會認為是真正的用戶操作而去執行。這利用了web中用戶身分驗證的一個漏洞：簡單的身分驗證只能保證請求發自某個用戶的瀏覽器，卻不能保證請求本身是用戶自願發出的。
防範方法：
1. 權杖同步模式
2. 檢查Referer欄位
3. 添加校驗token
分辨方法：XSS 利用的是用戶對指定網站的信任，CSRF 利用的是網站對用戶網頁瀏覽器的信任。
